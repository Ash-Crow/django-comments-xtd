{% extends "comments/base.html" %}
{% load i18n comments %}

{% block title %}{% trans "Comment List" %}.{% endblock %}

{% block content %}
  <h1>{% trans "Comment List" %}</h1>

  {% for comment in object_list %}
  <div id="comment-{{ comment.id }}" style="width:600px; padding: 5px 0; border-top: 1px solid #ddd">

    {% if comment.user.is_staff %}
    <div style="display:inline-block; width:180px; padding: 0 5px; background:#eee">
      <a href="{% get_comment_permalink comment %}">permalink</a><br/>
      <span>{{ comment.submit_date|date:"SHORT_DATE_FORMAT" }}</span><br/>
      <em>{{ comment.name }}</em>
    </div>
    {% endif %}

    <div style="display:inline-block; width:400px">
      <div style="font-size:0.7em">
	{% trans "Comment for:" %} <a href="{{ comment.content_object.get_absolute_url }}">{{ comment.content_object }}</a>
      </div>
      {% if comment.is_removed %}
      <span style="font-style: italic">
	-- {% trans "Inappropriate comments like this one are removed." %} --
      </span>
      {% else %}
      {{ comment.comment|linebreaks }}
      {% endif %}
    </div>

    {% if not comment.user.is_staff %}
    <div style="display:inline-block; width:180px; padding: 0 5px; background:#eee">
      <a href="{% get_comment_permalink comment %}">permalink</a><br/>
      <span>{{ comment.submit_date|date:"SHORT_DATE_FORMAT" }}</span><br/>
      <em>{{ comment.name }}</em>
    </div>
    {% endif %}

  </div>
  {% endfor %}

  {% if is_paginated %}
  <div class="center">
    {% if page_obj.has_previous %}
    <a id="newer" class="button" href="?page={{ page_obj.previous_page_number }}">{% trans "newer" %}</a>&nbsp;
    {% endif %}
    {% if page_obj.has_next %}
    <a id="older" class="button" href="?page={{ page_obj.next_page_number }}">{% trans "older" %}</a>
    {% endif %}
  </div>
  {% endif %}

{% endblock %}
